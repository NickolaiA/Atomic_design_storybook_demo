import{r,R as W,j as a}from"./iframe-C-Dpaqp0.js";const _=r.forwardRef(({size:P="md",disabled:p=!1,readOnly:S=!1,required:F=!1,error:d=!1,errorMessage:g,helperText:E,label:I,placeholder:$="Select an option...",loading:v=!1,name:G,id:J,className:Q="","aria-label":L,"aria-describedby":O,"aria-labelledby":X,options:j=[],value:l,defaultValue:A,onChange:h,onFocus:Y,onBlur:Z,searchable:N=!1,searchPlaceholder:D="Search options...",multiple:i=!1,maxSelections:H,...ee},b)=>{const[n,u]=r.useState(!1),[M,w]=r.useState(""),[C,f]=r.useState(-1),se=W.useId(),m=J||`select-${se}`,T=`${m}-error`,R=`${m}-helper`,[B,ae]=r.useState(l||A||""),[c,z]=r.useState(i?l?Array.isArray(l)?l:l.split(",").filter(Boolean):[]:[]),q=l!==void 0,K=q?l:B,y=r.useRef(null);r.useEffect(()=>{if(i&&l!==void 0){const e=Array.isArray(l)?l:l.split(",").filter(Boolean);z(e)}},[l,i]);const V=r.useRef(null),k=r.useRef(null),te=W.useCallback(e=>{y.current=e,typeof b=="function"?b(e):b&&(b.current=e)},[b]),x=j.filter(e=>e.label.toLowerCase().includes(M.toLowerCase())),t="select",le=`${t}--${P}`,ne=p?`${t}--disabled`:"",re=n?`${t}--open`:"",ce=d?`${t}--error`:"",ie=v?`${t}--loading`:"",oe=S?`${t}--readonly`:"",de=[t,le,ne,re,ce,ie,oe,Q].filter(Boolean).join(" "),ue=e=>{if(!p)switch(e.key){case"ArrowDown":e.preventDefault(),n?f(s=>s<x.length-1?s+1:0):u(!0);break;case"ArrowUp":e.preventDefault(),n&&f(s=>s>0?s-1:x.length-1);break;case"Enter":if(e.preventDefault(),!n)u(!0);else if(C>=0){const s=x[C];s&&!s.disabled&&U(s.value)}break;case"Escape":e.preventDefault(),u(!1),w(""),f(-1);break;case"Tab":u(!1);break}},U=e=>{if(i){const s=c.includes(e)?c.filter(o=>o!==e):H&&c.length>=H?c:[...c,e];if(z(s),h&&y.current){const o={target:{...y.current,value:s.join(",")}};h(o)}}else if(q||ae(e),u(!1),w(""),f(-1),h&&y.current){const s={target:{...y.current,value:e}};h(s)}};r.useEffect(()=>{const e=s=>{V.current&&!V.current.contains(s.target)&&(u(!1),w(""),f(-1))};if(n)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[n]),r.useEffect(()=>{n&&N&&k.current&&k.current.focus()},[n,N]);const fe=()=>{if(i){if(c.length===0)return $;if(c.length===1){const s=j.find(o=>o.value===c[0]);return s?s.label:c[0]}return`${c.length} selected`}const e=j.find(s=>s.value===K);return e?e.label:$};return a.jsxs("div",{className:"select-form-control",children:[I&&a.jsxs("label",{htmlFor:m,className:"select-label",children:[I,F&&a.jsx("span",{className:"select-required",children:"*"})]}),a.jsxs("div",{className:"select-wrapper",children:[a.jsxs("div",{className:`${t}-container`,ref:V,children:[a.jsxs("select",{ref:te,className:`${t}-hidden`,id:m,name:G,value:i?void 0:q?l:B,defaultValue:A,disabled:p||v||S,required:F,multiple:i,"aria-label":L,"aria-describedby":[d&&g?T:"",E&&!d?R:"",O].filter(Boolean).join(" ")||void 0,"aria-labelledby":X,"aria-invalid":d?"true":void 0,onChange:h,onFocus:Y,onBlur:Z,...ee,children:[$&&a.jsx("option",{value:"",children:$}),j.map(e=>a.jsx("option",{value:e.value,disabled:e.disabled,children:e.label},e.value))]}),a.jsxs("div",{className:de,onClick:()=>!p&&!v&&!S&&u(!n),onKeyDown:ue,tabIndex:p||v||S?-1:0,role:"combobox","aria-expanded":n?"true":"false","aria-haspopup":"listbox","aria-controls":`${m}-listbox`,"aria-describedby":[d&&g?T:"",E&&!d?R:"",O].filter(Boolean).join(" ")||void 0,"aria-label":L||"Select option",children:[a.jsx("span",{className:`${t}-value`,children:fe()}),a.jsx("span",{className:`${t}-arrow`,"aria-hidden":"true",children:n?"▲":"▼"})]}),n&&a.jsxs("div",{className:`${t}-dropdown`,children:[N&&a.jsx("div",{className:`${t}-search`,children:a.jsx("input",{ref:k,type:"text",className:`${t}-search-input`,placeholder:D,value:M,onChange:e=>w(e.target.value),onClick:e=>e.stopPropagation(),"aria-label":D||"Search options"})}),a.jsx("div",{className:`${t}-options`,role:"listbox",id:`${m}-listbox`,"aria-multiselectable":i?"true":void 0,children:x.length===0?a.jsx("div",{className:`${t}-no-options`,children:"No options found"}):x.map((e,s)=>{const o=i?c.includes(e.value):K===e.value,me=s===C;return a.jsxs("div",{className:`${t}-option ${o?`${t}-option--selected`:""} ${me?`${t}-option--focused`:""} ${e.disabled?`${t}-option--disabled`:""}`,role:"option","aria-selected":o?"true":"false",onClick:()=>!e.disabled&&U(e.value),onMouseEnter:()=>f(s),children:[i&&a.jsx("span",{className:`${t}-option-checkbox`,children:o?"☑":"☐"}),a.jsx("span",{className:`${t}-option-label`,children:e.label})]},e.value)})})]})]}),v&&a.jsx("span",{className:"select-loader",children:a.jsx("span",{className:"select-spinner"})})]}),d&&g&&a.jsx("div",{id:T,className:"select-error-message",role:"alert",children:g}),!d&&E&&a.jsx("div",{id:R,className:"select-helper-text",children:E})]})});_.displayName="Select";_.__docgenInfo={description:`Select component for choosing from a list of options.\r
\r
Features:\r
- Three size variants (sm, md, lg)\r
- Single and multiple selection modes\r
- Optional search functionality\r
- Keyboard navigation (Arrow keys, Enter, Escape)\r
- Disabled state and option-level disabled states\r
- Comprehensive accessibility features\r
- Theme integration\r
- Form validation support\r
\r
Usage:\r
\`\`\`tsx\r
<Select \r
  options={[{value: 'a', label: 'Option A'}]} \r
  value="a" \r
  onChange={handleChange} \r
/>\r
\`\`\``,methods:[],displayName:"Select",props:{options:{required:!1,tsType:{name:"Array",elements:[{name:"SelectOption"}],raw:"SelectOption[]"},description:"Options for the select",defaultValue:{value:"[]",computed:!1}},value:{required:!1,tsType:{name:"string"},description:"Selected value"},defaultValue:{required:!1,tsType:{name:"string"},description:"Default selected value"},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: React.ChangeEvent<HTMLSelectElement>) => void",signature:{arguments:[{type:{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLSelectElement>",elements:[{name:"HTMLSelectElement"}]},name:"event"}],return:{name:"void"}}},description:"Change handler"},onFocus:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: React.FocusEvent<HTMLSelectElement>) => void",signature:{arguments:[{type:{name:"ReactFocusEvent",raw:"React.FocusEvent<HTMLSelectElement>",elements:[{name:"HTMLSelectElement"}]},name:"event"}],return:{name:"void"}}},description:"Focus handler"},onBlur:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: React.FocusEvent<HTMLSelectElement>) => void",signature:{arguments:[{type:{name:"ReactFocusEvent",raw:"React.FocusEvent<HTMLSelectElement>",elements:[{name:"HTMLSelectElement"}]},name:"event"}],return:{name:"void"}}},description:"Blur handler"},searchable:{required:!1,tsType:{name:"boolean"},description:"Whether to show search functionality",defaultValue:{value:"false",computed:!1}},searchPlaceholder:{required:!1,tsType:{name:"string"},description:"Search placeholder text",defaultValue:{value:"'Search options...'",computed:!1}},multiple:{required:!1,tsType:{name:"boolean"},description:"Whether to allow multiple selections",defaultValue:{value:"false",computed:!1}},maxSelections:{required:!1,tsType:{name:"number"},description:"Maximum number of selections (for multiple)"},size:{defaultValue:{value:"'md'",computed:!1},required:!1},disabled:{defaultValue:{value:"false",computed:!1},required:!1},readOnly:{defaultValue:{value:"false",computed:!1},required:!1},required:{defaultValue:{value:"false",computed:!1},required:!1},error:{defaultValue:{value:"false",computed:!1},required:!1},placeholder:{defaultValue:{value:"'Select an option...'",computed:!1},required:!1},loading:{defaultValue:{value:"false",computed:!1},required:!1},className:{defaultValue:{value:"''",computed:!1},required:!1}},composes:["Omit"]};export{_ as S};
